<aside class="sidebar">
    <button type="button" class="sidebar-close-btn !mt-4">
        <iconify-icon icon="radix-icons:cross-2"></iconify-icon>
    </button>
    <div>
        <a href="{{ url_for('dashboard.index') }}" class="sidebar-logo">
            <img src="{{ url_for('static', filename='assets/images/icons/logo.png') }}" alt="site logo" class="light-logo">
            <img src="{{ url_for('static', filename='assets/images/icons/logo.png') }}" alt="site logo" class="dark-logo">
            <img src="{{ url_for('static', filename='assets/images/icons/logo.png') }}" alt="site logo" class="logo-icon">
        </a>
    </div>
    <div class="sidebar-menu-area">
        <ul class="sidebar-menu" id="sidebar-menu">
            <!-- Dashboard - Available to all roles -->
            <li>
                <a href="{{ url_for('dashboard.index') }}">
                    <iconify-icon icon="mage:email" class="menu-icon"></iconify-icon>
                    <span>Dashboard</span>
                </a>
            </li>
              <!-- Role & Permissions Management - Only for ADMIN and SUPER_ADMIN -->
            {% if current_user.role.name in ['SUPER_ADMIN', 'ADMIN'] %}
            <li class="dropdown">
                <a href="javascript:void(0)">
                    <iconify-icon icon="solar:shield-user-outline" class="menu-icon"></iconify-icon>
                    <span>Role & Permissions</span>
                </a>
                <ul class="sidebar-submenu">
                    <li>
                        <a href="{{ url_for('role_permissions.index') }}">
                            <i class="ri-circle-fill circle-icon text-info-600 w-auto"></i> Dashboard
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('role_permissions.permissions_page') }}">
                            <i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> Manage Permissions
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('role_permissions.role_config_page') }}">
                            <i class="ri-circle-fill circle-icon text-success-600 w-auto"></i> Role Configuration
                        </a>
                    </li>
                    <li>
                        <a href="#" onclick="showPermissionTemplates(); return false;">
                            <i class="ri-circle-fill circle-icon text-warning-600 w-auto"></i> Permission Templates
                        </a>
                    </li>
                    <li>
                        <a href="#" onclick="showRoleHierarchy(); return false;">
                            <i class="ri-circle-fill circle-icon text-purple-600 w-auto"></i> Role Hierarchy
                        </a>
                    </li>
                </ul>
            </li>
            {% endif %}

                <!-- Tenant Management - Only for SUPER_ADMIN and ADMIN -->
            {% if current_user.role.name in ['SUPER_ADMIN', 'ADMIN'] %}
            <li class="dropdown">
                <a href="javascript:void(0)">
                    <iconify-icon icon="solar:buildings-outline" class="menu-icon"></iconify-icon>
                    <span>Tenant Management</span>
                </a>
                <ul class="sidebar-submenu">
                    <li>
                        <a href="{{ url_for('tenant_management.index') }}">
                            <i class="ri-circle-fill circle-icon text-info-600 w-auto"></i> Dashboard
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('tenant_management.list_tenants') }}">
                            <i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> All Tenants
                        </a>
                    </li>
                    {% if current_user.role.name == 'SUPER_ADMIN' %}
                    <li>
                        <a href="{{ url_for('tenant_management.create_tenant') }}">
                            <i class="ri-circle-fill circle-icon text-success-600 w-auto"></i> Create Tenant
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('tenant_management.bulk_actions') }}">
                            <i class="ri-circle-fill circle-icon text-warning-600 w-auto"></i> Bulk Actions
                        </a>
                    </li>
                    {% endif %}
                    <li>
                        <a href="{{ url_for('tenant_management.export_tenants') }}">
                            <i class="ri-circle-fill circle-icon text-purple-600 w-auto"></i> Export Data
                        </a>
                    </li>
                </ul>
            </li>
            {% endif %}

             <!-- Transaction Management - Only for ADMIN, WHITE_LABEL, and SUPER_ADMIN -->
            {% if current_user.role.name in ['SUPER_ADMIN', 'ADMIN', 'WHITE_LABEL'] %}
            <li class="dropdown">
                <a href="javascript:void(0)">
                    <iconify-icon icon="solar:transfer-outline" class="menu-icon"></iconify-icon>
                    <span>Transaction Management</span>
                </a>
                <ul class="sidebar-submenu">
                    <li>
                        <a href="{{ url_for('transaction_management.index') }}">
                            <i class="ri-circle-fill circle-icon text-info-600 w-auto"></i> Dashboard
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('transaction_management.transactions_page') }}">
                            <i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> All Transactions
                        </a>
                    </li>
                    {% if current_user.role.name in ['SUPER_ADMIN', 'ADMIN'] %}
                    <li>
                        <a href="{{ url_for('transaction_management.add_transaction_page') }}">
                            <i class="ri-circle-fill circle-icon text-success-600 w-auto"></i> Add Transaction
                        </a>
                    </li>
                    {% endif %}
                    <li>
                        <a href="{{ url_for('transaction_management.reports_page') }}">
                            <i class="ri-circle-fill circle-icon text-warning-600 w-auto"></i> Reports & Analytics
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('transaction_management.export_transactions') }}">
                            <i class="ri-circle-fill circle-icon text-purple-600 w-auto"></i> Export Data
                        </a>
                    </li>
                </ul>
            </li>
            {% endif %}


            <!-- Bank Management - Only for ADMIN, WHITE_LABEL, and SUPER_ADMIN -->
            {% if current_user.role.name in ['SUPER_ADMIN', 'ADMIN', 'WHITE_LABEL'] %}
            <li class="dropdown">
                <a href="javascript:void(0)">
                    <iconify-icon icon="material-symbols:account-balance" class="menu-icon"></iconify-icon>
                    <span>Bank Management</span>
                </a>
                <ul class="sidebar-submenu">
                    <li>
                        <a href="{{ url_for('bank_management.index') }}">
                            <i class="ri-circle-fill circle-icon text-info-600 w-auto"></i> Dashboard
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('bank_management.bank_accounts_page') }}">
                            <i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> All Accounts
                        </a>
                    </li>
                    {% if current_user.role.name in ['SUPER_ADMIN', 'ADMIN'] %}
                    <li>
                        <a href="{{ url_for('bank_management.add_account_page') }}">
                            <i class="ri-circle-fill circle-icon text-success-600 w-auto"></i> Add Account
                        </a>
                    </li>
                 
                    {% endif %}
                   
                   
                </ul>
            </li>
            {% endif %}


            

            <!-- Self Services - Available to all roles -->
            <li class="dropdown">
                <a href="javascript:void(0)">
                    <iconify-icon icon="solar:document-text-outline" class="menu-icon"></iconify-icon>
                    <span>Self Services</span>
                </a>
                <ul class="sidebar-submenu">
                    <li>
                        <a href="{{ url_for('selfservice.paymentgateway') }}">
                            <i class="ri-circle-fill circle-icon text-warning-600 w-auto"></i> Payment Gateway Services
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('selfservice.ccbillpaymentservice') }}">
                            <i class="ri-circle-fill circle-icon text-success-600 w-auto"></i> CC Bill Payment Service
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('selfservice.moneytransferservice') }}">
                            <i class="ri-circle-fill circle-icon text-purple-600 dark:text-purple-400 w-auto"></i> Money Transfer Service
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('selfservice.mobilerecharge') }}">
                            <i class="ri-circle-fill circle-icon text-warning-600 w-auto"></i> Mobile Recharge
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('selfservice.dthrecharge') }}">
                            <i class="ri-circle-fill circle-icon text-danger-600 w-auto"></i> DTH Recharge
                        </a>
                    </li>
                </ul>
            </li>

            <!-- Self Transaction Report - Available to all roles -->
            <li class="dropdown">
                <a href="javascript:void(0)">
                    <iconify-icon icon="hugeicons:invoice-03" class="menu-icon"></iconify-icon>
                    <span>Self Transaction Report</span>
                </a>
                <ul class="sidebar-submenu">
                    <li>
                        <a href="{{ url_for('selftransactionreport.paymentgatewayreport') }}">
                            <i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i>Payment Gateway Report
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('selftransactionreport.billpaymentreport') }}">
                            <i class="ri-circle-fill circle-icon text-warning-600 w-auto"></i>Bill Payment Report
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('selftransactionreport.moneytransferreport') }}">
                            <i class="ri-circle-fill circle-icon text-info-600 w-auto"></i>Money Transfer Report
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('selftransactionreport.mobilerechargereport') }}">
                            <i class="ri-circle-fill circle-icon text-danger-600 w-auto"></i>Mobile Recharge Report
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('selftransactionreport.dthrechargereport') }}">
                            <i class="ri-circle-fill circle-icon text-purple-600 w-auto"></i>DTH Recharge Report
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('selftransactionreport.commissionreport') }}">
                            <i class="ri-circle-fill circle-icon text-info-600 w-auto"></i>Commission Reports
                        </a>
                    </li>
                </ul>
            </li>

            <!-- Member Manager - Only for ADMIN, WHITE_LABEL, SUPER_ADMIN, MASTER_DISTRIBUTOR -->
            {% if current_user.role.name in ['SUPER_ADMIN', 'ADMIN', 'WHITE_LABEL', 'MASTER_DISTRIBUTOR'] %}
            <li class="dropdown">
                <a href="javascript:void(0)">
                    <iconify-icon icon="hugeicons:bitcoin-circle" class="menu-icon"></iconify-icon>
                    <span>Member Manager</span>
                </a>
                <ul class="sidebar-submenu">
                    <li>
                        <a href="{{ url_for('membermanager.retailer') }}">
                            <i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> Retailer
                        </a>
                    </li>
                    {% if current_user.role.name in ['SUPER_ADMIN', 'ADMIN', 'WHITE_LABEL'] %}
                    <li>
                        <a href="{{ url_for('membermanager.distributor') }}">
                            <i class="ri-circle-fill circle-icon text-danger-600 w-auto"></i> Distributor
                        </a>
                    </li>
                    {% endif %}
                    <li>
                        <a href="{{ url_for('membermanager.wallettopuprequest') }}">
                            <i class="ri-circle-fill circle-icon text-purple-600 w-auto"></i> Wallet Top-up Request
                        </a>
                    </li>
                </ul>
            </li>
            {% endif %}

            <!-- Member Report - Only for ADMIN, WHITE_LABEL, SUPER_ADMIN, MASTER_DISTRIBUTOR -->
            {% if current_user.role.name in ['SUPER_ADMIN', 'ADMIN', 'WHITE_LABEL', 'MASTER_DISTRIBUTOR'] %}
            <li class="dropdown">
                <a href="javascript:void(0)">
                    <iconify-icon icon="hugeicons:ai-brain-03" class="menu-icon"></iconify-icon>
                    <span>Member Report</span>
                </a>
                <ul class="sidebar-submenu">
                    <li>
                        <a href="{{ url_for('memberreport.paymentgatewayreport') }}">
                            <i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> Payment Gateway Report
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('memberreport.billpaymentreport') }}">
                            <i class="ri-circle-fill circle-icon text-warning-600 w-auto"></i> Bill Payment Report
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('memberreport.moneytransferreport') }}">
                            <i class="ri-circle-fill circle-icon text-info-600 w-auto"></i> Money Transfer Report
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('memberreport.mobilerechargereport') }}">
                            <i class="ri-circle-fill circle-icon text-danger-600 w-auto"></i> Mobile Recharge Report
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('memberreport.dthrechargereport') }}">
                            <i class="ri-circle-fill circle-icon text-success-600 w-auto"></i>DTH Recharge Report
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('memberreport.wallettopuprecharge') }}">
                            <i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> Wallet Top-up Report
                        </a>
                    </li>
                </ul>
            </li>
            {% endif %}

            <!-- Commission & Pricing - Only for ADMIN and SUPER_ADMIN -->
            {% if current_user.role.name in ['SUPER_ADMIN', 'ADMIN'] %}
            <li class="dropdown">
                <a href="javascript:void(0)">
                    <iconify-icon icon="material-symbols:payments" class="menu-icon"></iconify-icon>
                    <span>Commission & Pricing</span>
                </a>
                <ul class="sidebar-submenu">
                    <li>
                        <a href="{{ url_for('commission_pricing.dashboard') }}">
                            <i class="ri-circle-fill circle-icon text-info-600 w-auto"></i> Dashboard
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('commission_pricing.commission_plans') }}">
                            <i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> Commission Plans
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('commission_pricing.user_commissions') }}">
                            <i class="ri-circle-fill circle-icon text-warning-600 w-auto"></i> User Commissions
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('commission_pricing.service_pricing') }}">
                            <i class="ri-circle-fill circle-icon text-success-600 w-auto"></i> Service Pricing
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('commission_pricing.commission_summary_report') }}">
                            <i class="ri-circle-fill circle-icon text-purple-600 w-auto"></i> Commission Reports
                        </a>
                    </li>
                </ul>
            </li>
            {% endif %}

            <!-- Payment Gateway Management - Only for ADMIN, WHITE_LABEL, and SUPER_ADMIN -->
            {% if current_user.role.name in ['SUPER_ADMIN', 'ADMIN', 'WHITE_LABEL'] %}
            <li class="dropdown">
                <a href="javascript:void(0)">
                    <iconify-icon icon="material-symbols:credit-card" class="menu-icon"></iconify-icon>
                    <span>Payment Gateways</span>
                </a>
                <ul class="sidebar-submenu">
                    <li>
                        <a href="{{ url_for('payment_gateway_management.index') }}">
                            <i class="ri-circle-fill circle-icon text-info-600 w-auto"></i> Dashboard
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('payment_gateway_management.gateways_page') }}">
                            <i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> Manage Gateways
                        </a>
                    </li>
                    {% if current_user.role.name in ['SUPER_ADMIN', 'ADMIN'] %}
                    <li>
                        <a href="{{ url_for('payment_gateway_management.add_gateway_page') }}">
                            <i class="ri-circle-fill circle-icon text-success-600 w-auto"></i> Add Gateway
                        </a>
                    </li>
                    {% endif %}
                    <li>
                        <a href="{{ url_for('payment_gateway_management.webhooks_page') }}">
                            <i class="ri-circle-fill circle-icon text-warning-600 w-auto"></i> Webhooks
                        </a>
                    </li>
                </ul>
            </li>
            {% endif %}

            <!-- System Configuration - Only for SUPER_ADMIN -->
            {% if current_user.role.name == 'SUPER_ADMIN' %}
            <li class="dropdown">
                <a href="javascript:void(0)">
                    <iconify-icon icon="material-symbols:settings" class="menu-icon"></iconify-icon>
                    <span>System Configuration</span>
                </a>
                <ul class="sidebar-submenu">
                    <li>
                        <a href="{{ url_for('api_management.dashboard') }}">
                            <i class="ri-circle-fill circle-icon text-info-600 w-auto"></i> API Management
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('api_management.api_configurations') }}">
                            <i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> API Configurations
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('api_management.request_logs') }}">
                            <i class="ri-circle-fill circle-icon text-warning-600 w-auto"></i> API Request Logs
                        </a>
                    </li>
                </ul>
            </li>
            {% endif %}

            <!-- Audit & Logs - Only for SUPER_ADMIN -->
            {% if current_user.role.name == 'SUPER_ADMIN' %}
            <li class="dropdown">
                <a href="javascript:void(0)">
                    <iconify-icon icon="material-symbols:monitoring" class="menu-icon"></iconify-icon>
                    <span>Audit & Logs</span>
                </a>
                <ul class="sidebar-submenu">
                    <li>
                        <a href="{{ url_for('audit_logging.audit_dashboard') }}">
                            <i class="ri-circle-fill circle-icon text-info-600 w-auto"></i> Dashboard
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('audit_logging.audit_logs') }}">
                            <i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> Audit Logs
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('audit_logging.error_logs') }}">
                            <i class="ri-circle-fill circle-icon text-danger-600 w-auto"></i> Error Logs
                        </a>
                    </li>
                </ul>
            </li>
            {% endif %}

            <!-- Wallet Top-up - Available to all roles -->
            <li>
                <a href="{{ url_for('wallettopup.index') }}">
                    <iconify-icon icon="bi:chat-dots" class="menu-icon"></iconify-icon>
                    <span>Wallet Top-up</span>
                </a>
            </li>

            <!-- Profile Setting - Available to all roles -->
            <li>
                <a href="{{ url_for('profilesetting.index') }}">
                    <iconify-icon icon="ic:baseline-group" class="menu-icon"></iconify-icon>
                    <span>Profile Setting</span>
                </a>
            </li>

            <!-- Complaint - Available to all roles -->
            <li>
                <a href="{{ url_for('complaint.index') }}">
                    <iconify-icon icon="material-symbols:map-outline" class="menu-icon"></iconify-icon>
                    <span>Complaint</span>
                </a>
            </li>

            <!-- Privacy Policy - Available to all roles -->
            <li>
                <a href="{{ url_for('privacypolicy.index') }}">
                    <iconify-icon icon="solar:gallery-wide-linear" class="menu-icon"></iconify-icon>
                    <span>Privacy Policy</span>
                </a>
            </li>

            <!-- Terms & Condition - Available to all roles -->
            <li>
                <a href="{{ url_for('terms_condition.index') }}">
                    <iconify-icon icon="hugeicons:money-send-square" class="menu-icon"></iconify-icon>
                    <span>Terms & Condition</span>
                </a>
            </li>

            <!-- Logout - Available to all roles -->
            <li>
                <a href="{{ url_for('logout.logout_user') }}" onclick="return confirm('Are you sure you want to logout?')">
                    <iconify-icon icon="mdi:logout" class="menu-icon"></iconify-icon>
                    <span>Logout</span>
                </a>
            </li>
        </ul>
    </div>
</aside>
