{% extends "base.html" %}
{% block content %}
<div class="max-w-4xl mx-auto mt-8">
  <h2 class="text-xl font-bold mb-6">My Top-up Requests</h2>

  <table class="w-full border text-left">
    <thead>
      <tr class="bg-gray-100">
        <th class="p-2 border">Request ID</th>
        <th class="p-2 border">Amount</th>
        <th class="p-2 border">Status</th>
        <th class="p-2 border">Date</th>
      </tr>
    </thead>
    <tbody>
      {% for r in requests %}
      <tr class="hover:bg-gray-50">
        <td class="p-2 border">{{ r.request_id }}</td>
        <td class="p-2 border">â‚¹{{ r.amount }}</td>
        <td class="p-2 border">
          <span class="px-2 py-1 rounded text-xs 
                       {% if r.status.value == 'PENDING' %} bg-yellow-200 
                       {% elif r.status.value == 'SUCCESS' %} bg-green-200 
                       {% else %} bg-red-200 {% endif %}">
            {{ r.status.value }}
          </span>
        </td>
        <td class="p-2 border">{{ r.created_at.strftime('%Y-%m-%d %H:%M') }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
