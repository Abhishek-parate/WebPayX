PS F:\webpayx\WebPayX> py .\fix_and_setup.py
🔧 PostgreSQL Configuration
==============================
Host [localhost]: 
Port [5432]: 
Username [postgres]: 
Password: 
Database name [saas_platform]: 
🔌 Testing PostgreSQL connection...
✅ PostgreSQL connection successful
🗄️  Checking if database 'saas_platform' exists...
📊 Creating database 'saas_platform'...
✅ Database created successfully
🔧 Initializing SaaS Platform Database (PostgreSQL)...
=======================================================
🔧 Creating database tables...
✅ All tables created successfully
  ✓ tenants: 16 columns
  ✓ users: 32 columns
  ✓ wallets: 15 columns
  ✓ organization_bank_accounts: 48 columns
🏢 Creating default tenant...
✅ Default tenant created with ID: ef03242b-123a-406a-8205-1fa8d11877f7
👤 Creating super admin user...
✅ Super admin created:
   Username: superadmin
   Password: Admin@123
   API Key: nv8ZbYfWV_zkKTJT1-5zUtEYtg4ZHxCI2CfBir4H6eA
💰 Creating admin wallet...
✅ Admin wallet created with balance: ₹100000.0000
🏦 Creating default bank account...
✅ Default bank account created: Primary Collection Account
🔐 Creating default permissions...
✅ Created 18 default permissions
📊 Creating sample data...
✅ Sample data created successfully

=======================================================
🎉 PostgreSQL Database initialization completed successfully!

📊 Database Details:
   🗄️  Host: localhost:5432
   📂 Database: saas_platform
   👤 User: postgres

📋 Application Summary:
   🏢 Tenant: Default SaaS Tenant (DEFAULT)
   👤 Admin: superadmin
   💰 Wallet Balance: ₹100000.0000
   🏦 Bank Account: Primary Collection Account

🔑 Login Details:
   Username: superadmin
   Password: Admin@123
   API Key: nv8ZbYfWV_zkKTJT1-5zUtEYtg4ZHxCI2CfBir4H6eA

⚠️  Please change the default password after first login!

🚀 You can now start your application!
💡 Don't forget to update your app's database URL to use PostgreSQL




 py .\fix_and_setup.py
py fix_and_setup.py --force --dummy-data


   - Created wallet for admin_mainadmin: ₹1000000.0000
   - Created WHITE_LABEL: white_label_demowl
   - Created wallet for white_label_demowl: ₹500000.0000
   - Created MASTER_DISTRIBUTOR: master_distributor_northmd
   - Created wallet for master_distributor_northmd: ₹250000.0000
   - Created RETAILER: retailer_ret11
   - Created wallet for retailer_ret11: ₹25000.0000
   - Created RETAILER: retailer_ret12
   - Created wallet for retailer_ret12: ₹25000.0000
   - Created RETAILER: retailer_ret13
   - Created wallet for retailer_ret13: ₹25000.0000
   - Created RETAILER: retailer_ret21
   - Created wallet for retailer_ret21: ₹25000.0000
   - Created RETAILER: retailer_ret22
   - Created wallet for retailer_ret22: ₹25000.0000
   - Created RETAILER: retailer_ret23
   - Created wallet for retailer_ret23: ₹25000.0000

Bank Accounts & Payment Gateways...
   ✓ Created bank account: HDFC_PRIMARY_001
   ✓ Created bank account: ICICI_SETTLEMENT_002
   ✓ Created bank account: SBI_REFUND_003
   ✓ Created payment gateway: Razorpay Primary
   ✓ Created payment gateway: PayU Secondary

Commission Plans...
   ✓ Created commission plan: Mobile Recharge - Premium
   ✓ Created commission plan: DTH Recharge - Premium
   ✓ Created commission plan: Money Transfer - Standard

Transaction History...
   ✓ Created transactions for 6 retailers

Wallet Topup Requests...
   ✓ Created topup requests for 8 users

✓ Basic hierarchy created successfully!
   Users: 12
   Bank Accounts: 3
   Payment Gateways: 2
   Commission Plans: 3

==================================================
SETUP COMPLETED SUCCESSFULLY!
==================================================
Super Admin Credentials:
  Username: superadmin
  Password: Admin@123

Sample User Credentials:
  All users password: password123
  Examples: admin_mainadmin, white_label_demowl, ret11
